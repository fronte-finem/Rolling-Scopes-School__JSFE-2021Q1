include ../layout/_layout-block.pug
include ../element/_button.pug
include ../element/_youtube-player.pug
include ../element/_bage.pug

mixin live-cams(root, animal)
  include ../_lib/_bem.js.pug
  -
    const self = 'live-cams';
    const bem = new Bem(self);
    const animals = [
      {
        name: 'panda',
        title: 'live panda cams',
        main: 'D0eqnda8dOk',
        cams: ['YgFFo1-X8zY', 'OObOQ2GElhA', '65JHo3Cy2tY'],
      },
      {
        name: 'eagle',
        title: 'bald eagle cams',
        main: 'XfoUF8YkB7A',
        cams: ['eTAsANPVqB8', 'j0aIpk6RtQg', 'nmJKl8iKI1Q'],
      },
      {
        name: 'gorilla',
        title: 'gorillas cams',
        main: 'rgXWDk7rh4w',
        cams: ['0P3w8mHiVy0', 'sapfpA9z5PQ', 'CBivU2LHaAU'],
      },
      {
        name: 'lemur',
        title: 'lemurs cams',
        main: 'vw2Spqhk4AY',
        cams: ['3MtsSkBWCfc', '2M1BmfHlOEI', '2w-8DnczSLI'],
      },
    ];
    const data = animals.filter(a => a.name == animal)[0];

  // ⚜️ BLOCK: LIVE-CAM ⚜️
  +layout-block('div', self)
    div(class = bem.elem('heading'))
      h2(class = bem.elem('title'))= data.title
      div(class = bem.elem('btn-container'))
        +btn({text: 'donate now'})
    +youtube-player(bem.elem('main-cam'), data.main)

    div(class = bem.elem('cams'))
      h3.title= 'more live views'
      //- div(class = bem.elem('slider'))
      .live-cams__slider.slider
        .slider__control.slider__control--prev
          +btn-icon({id: 'arrow-to-left'}, ['navy', 'prev'], [self])
        .slider__control.slider__control--next
          +btn-icon({id: 'arrow-to-right'}, ['navy', 'next'], [self])
        ul.slider__slots
          each item, ix in data.cams
            li.slider__slot
              +youtube-player(`cam-${ix+1}`, item)
              .slider__overlay
              +bage(`cam ${ix+1}`)
