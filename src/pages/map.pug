extends ../layout/_layout-page.pug

include ../layout/_layout-block.pug
include ../element/_button.pug


block page-vars
  - var page = "map";
  - var file = "map";
  - var title = '🗺️';
  - var root = '..'

block main
  +layout-block("title")
    h2(class = 'title__heading')= 'find where are the animals live'

  -
    const self = 'map';
    const linked = new Set(['panda', 'gorilla', 'eagle', 'lemur', ]);
    const data = [
      { id: 'eagle',     title: 'Bald eagle 🦅\nNorth America' },
      { id: 'alligator', title: 'American alligator 🐊\nSoutheastern United States' },
      { id: 'lion',      title: 'Lion 🦁\nAfrica ' },
      { id: 'gorilla',   title: 'Gorilla 🦍\nRainforests in Africa' },
      { id: 'lemur',     title: 'Lemur \nMadagascar' },
      { id: 'panda',     title: 'Giant panda 🐼\nSouth Central China' },
      { id: 'tiger',     title: 'Tiger 🐯\n Southeast Asia' },
      { id: 'coala',     title: 'Koala \nAustralia' },
    ];
    data.forEach(x => linked.has(x.id) && (x.link = `pages/zoos/${x.id}.html`));

  +layout-block(self)
    include ../svg/_map.svg.pug
    each item in data
      -
        const svgData = {
            id: 'map-pin',
            title: item.title,
            link: item.link,
            icons: [ { id: `icon-${item.id}`, cls: 'map-icon' } ]
          }
      if item.link
        +btn-link-icon(root, svgData, [item.id])
      else
        +btn-icon(svgData, [item.id])

