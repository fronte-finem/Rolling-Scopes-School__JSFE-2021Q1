@use '../_lib/css-var' as *;
@use '../_lib/grid';
@use '../_lib/font';
@use '../element/article';

/*
  ‚öúÔ∏è BLOCK: INTRO ‚öúÔ∏è
*/

.page__intro-wrapper {
  --intro-w-max: var(--page-w);
  max-width: var(--intro-w-max);

  @media screen and (max-width: 800px) {
    --intro-w-max: 100vw;
  }
}

.intro {
  display: flex;
  flex-direction: column;
  row-gap: 150px;
  padding: 150px 0;

  &__info-block {
    display: flex;
    column-gap: var(--page-w-gap);

    &:nth-child(2n + 1) .intro__pic-container {
      order: 2;
    }
  }

  &__pic-container {
    max-width: 800px;
    width: 100%;
  }
  &__article {
    width: 100%;
    flex-shrink: 2;
    padding-top: 68px;
  }

  &__img {
    display: block;
    width: 100%;
    border-radius: 5px;
  }
  &__article-heading {
    max-width: 100%;
    width: 100%;
    margin-bottom: 50px;
  }
  &__article-text {
    max-width: 100%;
    width: 100%;
    margin-bottom: 0px;
  }

  @include article.style(h2, var(--color-ui-2-def));
}

.intro__info-block:nth-child(1) {
  .intro__pic-container {
    position: relative;
  }

  .btn-icon--live-cam {
    --color-icon-def: var(--color-ui-2-hov);
    --color-icon-hov: var(--color-ui-1-hov);
    position: absolute;
    top: 28%;
    left: 51%;
  }
}

/* üí© tweaking pixel-perfect üí© */
.intro__info-block:nth-child(2) .intro__article {
  padding-top: 113px;
}


@media screen and (max-width: 1400px) {
  .intro {
    padding: 100px 0;
    row-gap: 73px;

    &__info-block {
      flex-direction: column;
      max-width: 660px;
      margin: 0 calc(100px - var(--page-w-off));

      &:nth-child(n) .intro__pic-container {
        order: 0;
      }

      &:nth-child(2n) {
        align-self: flex-end;

        /* üí© clear pixel-perfect rule üí© */
        .intro__article {
          padding-top: 0;
        }
      }
    }

    &__pic-container {
      max-width: 660px;
      margin-bottom: 30px;
    }
    &__article {
      padding-top: 0;
    }
    &__article-heading {
      margin-bottom: 31px;
    }
    &__article-text {
      max-width: 560px;
    }
  }
}

@media screen and (max-width: 800px) {
  .intro {
    row-gap: 46px;

    &__info-block {
      max-width: 100%;
      margin: 0;

      &:nth-child(n) .intro__pic-container {
        order: 0;
      }

      &:nth-child(2n) {
        align-self: flex-end;
      }
    }

    &__article {
      width: auto;
      margin: 0 var(--page-w-off);
    }
    &__article-text {
      max-width: 100%;
    }
  }
}

@media screen and (max-width: 500px) {
  .intro {
    padding: 50px 0 48px;
    row-gap: 46px;

    &__info-block {

      &:nth-child(n) .intro__pic-container {
        order: 0;
      }

      &:nth-child(2n) {
        align-self: flex-end;
      }
    }

    &__article-heading {
      margin-bottom: 24px;
    }
    &__article-text {
      max-width: 100%;

      .spoiler {
        display: none;
      }
    }

    .intro__info-block:nth-child(1) {
      .btn-icon--live-cam {
        top: 27%;
        left: 49%;
        transform: scale(.6);
      }
    }
  }
}
