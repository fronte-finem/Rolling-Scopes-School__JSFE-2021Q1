mixin btn(tag, data, ...mods)
  +gen-btn(tag, 'btn', data, ...mods)
    svg(class = 'svg-icon', viewBox = '0 0 25 22', x = '0', y = '0')
      use(class = 'icon__arrow-to-right', xlink:href = '#arrow-to-right')

mixin btn-icon(tag, id, data, ...mods)
  +gen-btn(tag, 'btn-icon', data, ...mods)
    svg(class = 'svg-icon', x = '0', y = '0')
      use(class = `icon__${id}`, xlink:href = `#${id}`)

mixin btn-map-pin(...mods)
  +gen-btn('button', 'btn-map-pin', {}, ...mods)
    svg(class = 'svg-map-pin', viewBox = '0 0 100 144')
      use(class = 'icon__map-pin', xlink:href = '#map-pin')


mixin gen-btn(tag, cls, data, ...mods)
  - var h = 'console.log(this, event); event.cancelBubble = true'
  - var c = cls + ' ' + mods.map(x => `${cls}--${x}`).join(' ')
  - var t = data.text || ''

  if tag == 'a'
    a(class = c, href = data.href, onclick = h)= t
      if block
        block
  else
    #{tag}(class = c, onclick = h)= t
      if block
        block
